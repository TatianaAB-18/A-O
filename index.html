<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nuestro A√±o Juntos</title>

  <!-- üíï Fuente rom√°ntica -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #f7f6fb;
      --card: #ffffff;
      --accent: #eea4af;
      --muted: #6b6b7a;
      --shadow: rgba(0,0,0,0.1);
    }

    * { box-sizing: border-box; }

    body {
      font-family: "Poppins", system-ui, sans-serif;
      margin: 0;
      background-image:
        linear-gradient(rgba(255,255,255,0.6), rgba(255,255,255,0.8)),
        url('img/fondo.jpg');
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-position: center;
      background-size: cover;
      color: #333;
    }

    /* üì® Pantalla inicial del sobre */
    #envelopeScreen {
      position: fixed;
      inset: 0;
      background: #f8e1e1;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      height: 100vh;
      flex-direction: column;
      transition: opacity 1s ease, visibility 1s ease;
    }

      #envelopeScreen.hidden {
      position: relative;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      display: inline-block;
      text-align: center;
    }

    .envelope-img {
      width: 45vw;           /* Escala con el ancho de la pantalla */
    max-width: 450px;
    min-width: 250px;
    height: auto;
    }

    .envelope-img:hover {
      transform: scale(1.05);
    }

 @media (max-width: 600px) {
  .open-letter-btn {
    font-size: 3.5vw;
    padding: 2vw 5vw;
    top: 42%;
  }
} 

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes buttonFloat {
  0% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -52%) scale(1.05); }
  100% { transform: translate(-50%, -50%) scale(1); }
}


    .open-letter-btn {
    position: absolute;
  top: 44%;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(90deg, #ff4d6d, #d00000);
  color: white;
  border: none;
  padding: 1vw 3vw;       /* Escala proporcionalmente */
  border-radius: 30px;
  font-size: 1.2vw;       /* Texto tambi√©n proporcional */
  font-family: 'Poppins', sans-serif;
  cursor: pointer;
  z-index: 10;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: all 0.3s ease;
    }

    .open-letter-btn:hover {
      background: linear-gradient(90deg, #ff6f91, #b30000);
  transform: translateX(-50%) scale(1.08);;
    }


    header {
      padding: 24px;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: clamp(24px, 4vw, 40px);
      color: #b30000;
      text-shadow: 0 2px 8px var(--shadow);
      font-weight: 700;
      letter-spacing: 1px;
    }

    .counter {
      display: flex;
      gap: 8px;
      align-items: center;
      justify-content: center;
      margin: 12px 0;
      font-size: 18px;
      color: var(--muted);
    }

    .counter .num {
      font-size: 28px;
      color: #b30000;
      font-weight: 700;
    }

    .container {
      max-width: 980px;
      margin: 24px auto;
      padding: 16px;
    }

    /* Botones */
    .controls {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }

    .btn {
      background: linear-gradient(135deg, #e85959, #d23737);
      color: white;
      border: none;
      padding: 12px 22px;
      border-radius: 25px;
      cursor: pointer;
      font-weight: 600;
      font-size: 15px;
      transition: all 0.3s ease;
      box-shadow: 0 6px 14px rgba(255, 107, 129, 0.3);
    }

    .btn:hover {
      transform: scale(1.08);
      box-shadow: 0 8px 18px rgba(255, 107, 129, 0.45);
    }

    input[type="date"] {
      background: var(--card);
      border: 1px solid #eee;
      border-radius: 25px;
      padding: 10px 16px;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(50,50,93,0.06);
      font-weight: 500;
      color: #b30000;
    }

    /* üíï T√≠tulo del recuerdo */
    #modalTitle {
      font-family: 'Dancing Script', cursive;
      font-size: 2.2rem;
      color: #b30000;
      text-align: center;
      margin: 10px 0 15px 0;
      text-shadow: 1px 1px 4px rgba(255, 192, 203, 0.5);
      animation: fadeIn 1s ease;
    }

    /* Timeline */
    .timeline {
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    .event {
      background: var(--card);
      padding: 12px;
      border-radius: 12px;
      border: 1px solid rgba(0,0,0,0.05);
      display: flex;
      gap: 12px;
      align-items: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      transition: transform 0.2s;
    }

    .event:hover { transform: translateY(-3px); }

    .thumb {
      width: 90px;
      height: 72px;
      border-radius: 8px;
      object-fit: cover;
      flex: 0 0 90px;
    }

    .meta { flex: 1; }
    .meta h3 {
      margin: 0 0 6px 0;
      font-size: 16px;
      color: #b30000;
    }
    .meta p {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    /* Modal */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .modal .card {
      background: var(--card);
      max-width: 820px;
      width: 100%;
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }

    .modal img {
      max-width: 80%;
      max-height: 60vh;
      border-radius: 12px;
      display: block;
      margin: 10px auto;
      object-fit: contain;
    }

    /* ‚ú® Footer animado con corazones */
    footer {
      position: relative;
      text-align: center;
      padding: 16px 10px;
      color: #fff;
      background-color: #b30000;
      margin-top: 10px;
      font-weight: 600;
      font-size: 18px;
      letter-spacing: 0.5px;
      border-top: 3px solid #8b0000;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      animation: slideUp 1.5s ease-out forwards;
    }

    @keyframes slideUp {
      from { transform: translateY(100px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .heart {
      position: absolute;
      bottom: 0;
      color: #ffb3b3;
      font-size: 20px;
      opacity: 0.8;
      animation: floatUp 5s linear infinite;
    }

    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity: 0.8; }
      100% { transform: translateY(-200px) scale(1.5); opacity: 0; }
    }

    #finalMessage {
      display: block;
      color: #fff !important;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
      animation: fadeIn 1.5s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media(min-width:700px) {
      .timeline { grid-template-columns: 1fr 1fr; }
      .thumb { width: 120px; height: 90px; }
    }
  </style>
</head>

<body>
<div id="envelopeScreen">
    <img src="img/ChatGPT_Image_6_oct_2025__09_12_36_p.m.-removebg-preview.png                                " alt="Sobre de carta" class="envelope-img" id="openEnvelope">
    <button class="open-letter-btn" id="openLetterBtn">üíå √Åbreme</button>
  </div>

  <header>
    <h1>üíñ Nuestros Recuerdos M√°s Bonitos üíñ</h1>
    <div class="counter">
      <div>D√≠as juntos: <span id="days" class="num">0</span></div>
    </div>
  </header>

  <div class="container">
    <div class="controls">
      <button id="playMusic" class="btn">üéµ Reproducir m√∫sica</button>
      <input id="startDateInput" type="date" title="Fecha de inicio" />
      <button id="pauseMusic" class="btn">‚è∏ Pausar m√∫sica</button>
    </div>

    <section>
      <h2>L√≠nea de tiempo de nuestro amor üíû</h2>
      <div id="timeline" class="timeline"></div>
    </section>
  </div>

  <div id="modal" class="modal" role="dialog">
    <div class="card">
      <button id="closeModal" class="btn" style="float:right;background:#b30000;">Cerrar</button>
      <h3 id="modalTitle"></h3>
      <img id="modalImg" src="" alt="Foto" />
      <p id="modalText"></p>
    </div>
  </div>

  <footer>
    <div id="finalMessage">‚ú® Esto apenas comienza üíû ‚ú®</div>
  </footer>

  <audio id="bgMusic" loop preload="auto">
    <source src="Christina Perri - A Thousand Years [Official Music Video].mp3" type="audio/mpeg" />
  </audio>

  <script>
    let startDate = new Date('2024-10-07');

    const sampleEvents = [
      {date:'2024-09-15', title:'Nos conocimos üíå', text:'El primer d√≠a que hablamos no lo olvido ya que yo estaba enferma y quer√≠a estar contigo en ese parcial. Desde ah√≠ supe que no era solo una atracci√≥n hacia ti.', img:'img/enferma.jpg'},
      {date:'2024-09-20 al 2024-10-07', title:'Nuestro inicio üíû', text:'En poco tiempo supe que quer√≠a estar contigo, y decir que s√≠ fue la mejor decisi√≥n de mi vida.', img:'img/inicio2.jpg'},
      {date:'2024-10-30', title:'Tu cumplea√±os juntos üéÇ', text:'Pasamos tu cumplea√±os juntos, nerviosa pero feliz. Te regal√© una rosa como la de Bestia, s√≠mbolo de nuestro amor eterno. ‚ù§Ô∏è', img:'img/rosa.jpg'},
      {date:'2024-12-01', title:'Nuestra primera Navidad üéÑ', text:'Navidad cambi√≥ gracias a ti. Aunque lejos, siempre juntos de coraz√≥n.', img:'img/Navidad.jpg'},
      {date:'2025-06-07', title:'Meses juntos üíï', text:'Ha sido un tiempo hermoso, le agradezco a Dios por ti cada d√≠a.', img:'img/meses.jpg'},
      {date:'2025-10-02', title:'Actualmente los dos üíñ', text:'Seguimos juntos, creciendo y am√°ndonos m√°s cada d√≠a. Eres lo mejor que tengo.', img:'img/actualmente.jpg'}
    ];

    const timelineEl = document.getElementById('timeline');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalText = document.getElementById('modalText');
    const closeModal = document.getElementById('closeModal');
    const daysEl = document.getElementById('days');
    const finalMessage = document.getElementById('finalMessage');

    const envelopeScreen = document.getElementById('envelopeScreen');
    const openLetterBtn = document.getElementById('openLetterBtn');
    const openEnvelope = document.getElementById('openEnvelope');

    function openLetter() {
      envelopeScreen.classList.add('hidden');
      setTimeout(() => envelopeScreen.style.display = 'none', 800);
      bgMusic.play().catch(() => console.log('Interacci√≥n requerida para reproducir m√∫sica.'));
    }

    openLetterBtn.addEventListener('click', openLetter);
    openEnvelope.addEventListener('click', openLetter);

    function renderTimeline(events) {
      timelineEl.innerHTML = '';
      events.forEach((e, i) => {
        const div = document.createElement('div');
        div.className = 'event';
        div.innerHTML = `
          <img class="thumb" src="${e.img}" alt="foto ${i}"/>
          <div class="meta">
            <h3>${e.title} ‚Äî <small>${e.date}</small></h3>
            <p>${e.text}</p>
            <button class="btn" data-i="${i}">ü•∞ Ver recuerdo</button>
          </div>`;
        timelineEl.appendChild(div);
      });
    }

    timelineEl.addEventListener('click', ev => {
      const btn = ev.target.closest('button');
      if (!btn) return;
      const i = Number(btn.dataset.i);
      const e = sampleEvents[i];
      modalTitle.textContent = `${e.title} ‚Äî ${e.date}`;
      modalImg.src = e.img;
      modalText.textContent = e.text;
      modal.style.display = 'flex';
    });

    closeModal.addEventListener('click', () => modal.style.display = 'none');
    modal.addEventListener('click', ev => { if (ev.target === modal) modal.style.display = 'none'; });

    function updateCounter() {
      const now = new Date();
      const diff = Math.floor((now - startDate) / (1000 * 60 * 60 * 24));
      daysEl.textContent = diff >= 0 ? diff : 0;
      finalMessage.style.display = diff >= 365 ? 'block' : 'none';

      // üíñ Corazones flotando cuando cumplen un a√±o
      if (diff >= 365) {
        const footer = document.querySelector("footer");
        for (let i = 0; i < 20; i++) {
          const heart = document.createElement("span");
          heart.classList.add("heart");
          heart.innerHTML = "üíñ";
          heart.style.left = Math.random() * 100 + "%";
          heart.style.animationDelay = Math.random() * 5 + "s";
          heart.style.fontSize = 16 + Math.random() * 16 + "px";
          footer.appendChild(heart);
          setTimeout(() => heart.remove(), 5000);
        }
      }
    }

    updateCounter();
    setInterval(updateCounter, 1000 * 60 * 60);

    const bgMusic = document.getElementById('bgMusic');
    document.getElementById('playMusic').addEventListener('click', () => {
      bgMusic.play().catch(() => alert('Presiona reproducir de nuevo si el navegador bloque√≥ la reproducci√≥n autom√°tica.'));
    });
    document.getElementById('pauseMusic').addEventListener('click', () => bgMusic.pause());

    const startDateInput = document.getElementById('startDateInput');
    startDateInput.valueAsDate = startDate;
    startDateInput.addEventListener('change', () => {
      const d = startDateInput.value;
      if (d) { startDate = new Date(d); updateCounter(); }
    });

  

    renderTimeline(sampleEvents);
  </script>
</body>
</html>

